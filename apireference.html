<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API Reference &#8212; yhttp 7.0.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=1394a4c8"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Cookbook" href="cookbook.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-yhttp.core">
<span id="api-reference"></span><h1>API Reference<a class="headerlink" href="#module-yhttp.core" title="Link to this heading">¶</a></h1>
<section id="application-classes">
<h2>Application Classes<a class="headerlink" href="#application-classes" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BaseApplication</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.BaseApplication" title="Link to this definition">¶</a></dt>
<dd><p>Base application for <a class="reference internal" href="#yhttp.core.Application" title="yhttp.core.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a> and <a class="reference internal" href="#yhttp.core.Rewrite" title="yhttp.core.Rewrite"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rewrite</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>version</strong> – Application version</p></li>
<li><p><strong>name</strong> – Application name</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 6.4: </span><code class="docutils literal notranslate"><span class="pre">name</span></code> argument.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 7.0: </span><code class="docutils literal notranslate"><span class="pre">version</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> arguments must be provided to create an
Application.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.cliarguments">
<span class="sig-name descname"><span class="pre">cliarguments</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.BaseApplication.cliarguments" title="Link to this definition">¶</a></dt>
<dd><p>A list of <a class="reference external" href="https://pylover.github.io/easycli/apireference.html#easycli.Argument" title="(in easycli)"><code class="xref py py-class docutils literal notranslate"><span class="pre">easycli.Argument</span></code></a> or <a class="reference external" href="https://pylover.github.io/easycli/apireference.html#easycli.SubCommand" title="(in easycli)"><code class="xref py py-class docutils literal notranslate"><span class="pre">easycli.SubCommand</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.climain">
<span class="sig-name descname"><span class="pre">climain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.BaseApplication.climain" title="Link to this definition">¶</a></dt>
<dd><p>Provide a callable to call as the CLI entry point.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">climain</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">))</span>
</pre></div>
</div>
<p>You can use this method as the setuptools entry point for
<a class="reference external" href="https://setuptools.readthedocs.io/en/latest/setuptools.html#automatic-script-creation">Automatic Script Creation</a></p>
<p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>


<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span>
    <span class="o">...</span>
    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;console_scripts&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;foo = foo:app.climain&#39;</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorials/quickstart.html#quickstart-commandlineinterface"><span class="std std-ref">Command Line Interface</span></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.events">
<span class="sig-name descname"><span class="pre">events</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.BaseApplication.events" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary to hold registered functions to specific hooks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.hook">
<span class="sig-name descname"><span class="pre">hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.BaseApplication.hook" title="Link to this definition">¶</a></dt>
<dd><p>Only way to fire registered hooks.</p>
<p>Hooks can registered by <a class="reference internal" href="#yhttp.core.BaseApplication.when" title="yhttp.core.BaseApplication.when"><code class="xref py py-meth docutils literal notranslate"><span class="pre">when()</span></code></a> with the name.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">hook</span><span class="p">(</span><span class="s1">&#39;endresponse&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extra parameters: <code class="docutils literal notranslate"><span class="pre">*a,</span> <span class="pre">**kw</span></code> will be passed to event handlers.</p>
<p>Normally, users no need to call this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.ready">
<span class="sig-name descname"><span class="pre">ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.BaseApplication.ready" title="Link to this definition">¶</a></dt>
<dd><p>Call the <code class="docutils literal notranslate"><span class="pre">ready</span></code> <a class="reference internal" href="#yhttp.core.BaseApplication.hook" title="yhttp.core.BaseApplication.hook"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hook()</span></code></a>.</p>
<p>You need to call this method before using the instance as the WSGI
application.</p>
<p>Typical usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">Application</span><span class="p">,</span> <span class="n">text</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@text</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Hello World!&#39;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">!=</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.settings">
<span class="sig-name descname"><span class="pre">settings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.BaseApplication.settings" title="Link to this definition">¶</a></dt>
<dd><p>Instance of <a class="reference external" href="https://pylover.github.io/pymlconf/pymlconf.html#pymlconf.Root" title="(in pymlconf v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymlconf.Root</span></code></a> as the global configuration instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.BaseApplication.shutdown" title="Link to this definition">¶</a></dt>
<dd><p>Call the <code class="docutils literal notranslate"><span class="pre">shutdown</span></code> <a class="reference internal" href="#yhttp.core.BaseApplication.hook" title="yhttp.core.BaseApplication.hook"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hook()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.BaseApplication.when">
<span class="sig-name descname"><span class="pre">when</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.BaseApplication.when" title="Link to this definition">¶</a></dt>
<dd><p>Return decorator to registers the <code class="docutils literal notranslate"><span class="pre">func</span></code> into <a class="reference internal" href="#yhttp.core.BaseApplication.events" title="yhttp.core.BaseApplication.events"><code class="xref py py-attr docutils literal notranslate"><span class="pre">events</span></code></a> by
its name.</p>
<p>Currently these hooks are suuported:</p>
<ul class="simple">
<li><p>ready</p></li>
<li><p>shutdown</p></li>
<li><p>endresponse</p></li>
</ul>
<p>The hook name will be choosed by the func.__name__, so if you need to
aware when <a class="reference internal" href="#yhttp.core.BaseApplication.ready" title="yhttp.core.BaseApplication.ready"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ready()</span></code></a> is called write something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">when</span>
<span class="k">def</span> <span class="nf">ready</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">when</span>
<span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">when</span>
<span class="k">def</span> <span class="nf">endresponse</span><span class="p">(</span><span class="n">response</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.Application">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Application</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#yhttp.core.BaseApplication" title="yhttp.core.application.BaseApplication"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseApplication</span></code></a></p>
<p>WSGI Web Application.</p>
<p>Instance of this class can be used as a WSGI application.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bodyguard_factory</strong> – A factory of <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code></a> and or it’s
subclasses to be used in
<a class="reference internal" href="#yhttp.core.Application.bodyguard" title="yhttp.core.Application.bodyguard"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.bodyguard()</span></code></a> to instantiate a new
guard for a handler. default: <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code></a>.</p></li>
<li><p><strong>queryguard_factory</strong> – A factory of <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code></a> and or it’s
subclasses to be used in
<a class="reference internal" href="#yhttp.core.Application.queryguard" title="yhttp.core.Application.queryguard"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.queryguard()</span></code></a> to instantiate a
new guard for a handler.
default: <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code></a>.</p></li>
<li><p><strong>routes</strong> – A dictionionary to hold the regext routes handler mappings.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>version</strong> – Application version</p></li>
<li><p><strong>name</strong> – Application name</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Application.bodyguard">
<span class="sig-name descname"><span class="pre">bodyguard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application.bodyguard" title="Link to this definition">¶</a></dt>
<dd><p>A decorator factory to validate HTTP request’s body.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">guard</span> <span class="k">as</span> <span class="n">g</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">bodyguard</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">(</span>
    <span class="n">g</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">g</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="p">),</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nd">@json</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This method calls the <a class="reference internal" href="#yhttp.core.Application.bodyguard_factory" title="yhttp.core.Application.bodyguard_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bodyguard_factory</span></code></a> to
intantiate a <code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code> class or it’s subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fields</strong> – A tuple of <code class="xref py py-class docutils literal notranslate"><span class="pre">Gurad.Field</span></code> subclass instances to
define the allowed fields and field attributes.</p></li>
<li><p><strong>strict</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it raises
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Guard.statuscode_unknownfields</span></code> when one or more
fields are not in the given <code class="docutils literal notranslate"><span class="pre">fields</span></code> argument.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Application.bodyguard_factory">
<span class="sig-name descname"><span class="pre">bodyguard_factory</span></span><a class="headerlink" href="#yhttp.core.Application.bodyguard_factory" title="Link to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Application.delete_route">
<span class="sig-name descname"><span class="pre">delete_route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application.delete_route" title="Link to this definition">¶</a></dt>
<dd><p>Delete a route</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – Regular expression to match the routing table.</p></li>
<li><p><strong>flags</strong> – Regular expression flags. see <a class="reference external" href="https://docs.python.org/3.6/library/re.html#re.compile" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.compile()</span></code></a>.</p></li>
<li><p><strong>verb</strong> – The HTTP verb to match the routing table.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Application.queryguard">
<span class="sig-name descname"><span class="pre">queryguard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application.queryguard" title="Link to this definition">¶</a></dt>
<dd><p>A decorator factory to validate the URL’s query string.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">guard</span> <span class="k">as</span> <span class="n">g</span>
<span class="kn">from</span> <span class="nn">yhttp.core.multidict</span> <span class="kn">import</span> <span class="n">MultiDict</span>

<span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">g</span><span class="o">.</span><span class="n">Field</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">MultiDict</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;bar default value&#39;</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">queryguard</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">(</span>
    <span class="n">g</span><span class="o">.</span><span class="n">String</span><span class="p">(</span>
        <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
        <span class="n">length</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
        <span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">,</span>
        <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s1">&#39;foo default value&#39;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">g</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span>
        <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
        <span class="nb">range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
        <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">bar</span>
   <span class="p">),</span>
<span class="p">),</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nd">@json</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This method calls the <a class="reference internal" href="#yhttp.core.Application.queryguard_factory" title="yhttp.core.Application.queryguard_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">queryguard_factory</span></code></a> to
intantiate a <code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code> class or it’s subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fields</strong> – A tuple of <code class="xref py py-class docutils literal notranslate"><span class="pre">Gurad.Field</span></code> subclass instances to
define the allowed fields and field attributes.</p></li>
<li><p><strong>strict</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it raises
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Guard.statuscode_unknownfields</span></code> when one or more
fields are not in the given <code class="docutils literal notranslate"><span class="pre">fields</span></code> argument.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Application.queryguard_factory">
<span class="sig-name descname"><span class="pre">queryguard_factory</span></span><a class="headerlink" href="#yhttp.core.Application.queryguard_factory" title="Link to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">Guard</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Application.route">
<span class="sig-name descname"><span class="pre">route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'error'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application.route" title="Link to this definition">¶</a></dt>
<dd><p>Return a decorator to register a handler for given regex pattern.</p>
<p>if <code class="docutils literal notranslate"><span class="pre">verb</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> then the function name will used instead.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/.*&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>You can bypass this behavior by passing <code class="docutils literal notranslate"><span class="pre">verb</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="s1">&#39;get&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">somethingelse</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>To catch any verb by the handler use <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">any</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Regular expression groups will be capture and dispatched as the
positional arguments of the handler after <code class="docutils literal notranslate"><span class="pre">req</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/(</span><span class="se">\\</span><span class="s1">d+)/(</span><span class="se">\\</span><span class="s1">w*)&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This method returns a decorator for handler fucntions. So, you can use
it like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">books</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/books/(.*)&#39;</span><span class="p">)</span>

<span class="nd">@books</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@books</span>
<span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="cookbook.html#cookbook-routing"><span class="std std-ref">Routing</span></a>
<a class="reference internal" href="cookbook.html#cookbook-pathparams"><span class="std std-ref">Path Parameters</span></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – Regular expression to match the request.</p></li>
<li><p><strong>flags</strong> – Regular expression flags. see <a class="reference external" href="https://docs.python.org/3.6/library/re.html#re.compile" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.compile()</span></code></a>.</p></li>
<li><p><strong>verb</strong> – If not given then <code class="docutils literal notranslate"><span class="pre">handler.__name__</span></code> will be used to
match HTYP verb, Use <code class="docutils literal notranslate"><span class="pre">*</span></code> to catch all verbs.</p></li>
<li><p><strong>insert</strong> – If not given, route will be appended to the end of the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">routes</span></code>. Otherwise it must be an
integer indicating the place to insert the new route
into <code class="xref py py-attr docutils literal notranslate"><span class="pre">routes</span></code> attribute.</p></li>
<li><p><strong>exists</strong> – Tell what to do if route already exists, possible
values: <code class="docutils literal notranslate"><span class="pre">error``(default)</span> <span class="pre">and</span> <span class="pre">``remove</span></code> to remove the
existing route before appending and or inserting the new
one.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.9: </span><code class="docutils literal notranslate"><span class="pre">insert</span></code></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 6.1: </span><code class="docutils literal notranslate"><span class="pre">exists</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Application.staticdirectory">
<span class="sig-name descname"><span class="pre">staticdirectory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoindex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application.staticdirectory" title="Link to this definition">¶</a></dt>
<dd><p>Register a directory with a regular expression pattern.</p>
<p>So the files inside the directory are accessible by their names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">staticdirectory</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/foo/&#39;</span><span class="p">,</span> <span class="s1">&#39;physical/path/to/foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You you can do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>localhost:8080/foo/a.txt
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="cookbook.html#cookbook-static"><span class="std std-ref">Static Contents</span></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – Regular expression to match the requests.</p></li>
<li><p><strong>directory</strong> – Static files are here.</p></li>
<li><p><strong>default</strong> – if None, the <code class="docutils literal notranslate"><span class="pre">app.settings.staticdir.default</span></code>
(which default is <code class="docutils literal notranslate"><span class="pre">index.html</span></code>) will be used as the
default document.</p></li>
<li><p><strong>autoindex</strong> – Automatic directory indexing, default True.</p></li>
<li><p><strong>fallback</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <code class="docutils literal notranslate"><span class="pre">app.settings.staticdir.fallback</span></code>
(which default is <code class="docutils literal notranslate"><span class="pre">index.html</span></code>) will be used as the
fallback document if the requested resource was not
found. if <code class="docutils literal notranslate"><span class="pre">str</span></code>, the value will be used instead of
<code class="docutils literal notranslate"><span class="pre">app.settings.staticdir.fallback</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.13: </span>The <em>default</em> and <em>fallback</em> keyword arguments.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8: </span>The <em>autoindex</em> keyword argument.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Application.staticfile">
<span class="sig-name descname"><span class="pre">staticfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Application.staticfile" title="Link to this definition">¶</a></dt>
<dd><p>Register a filename with a regular expression pattern to be served.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">staticfile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/a\.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;physical/path/to/a.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="cookbook.html#cookbook-static"><span class="std std-ref">Static Contents</span></a></p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="rewrite-class">
<h2>Rewrite Class<a class="headerlink" href="#rewrite-class" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.Rewrite">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Rewrite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Rewrite" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#yhttp.core.BaseApplication" title="yhttp.core.application.BaseApplication"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseApplication</span></code></a></p>
<p>Useful to route specific requests to other WSGI application.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.2.</span></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yhttp.core</span> <span class="k">as</span> <span class="nn">y</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Application</span><span class="p">()</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Application</span><span class="p">()</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Application</span><span class="p">()</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Rewrite</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/foo/?&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/bar/?(.*)&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;/b/\1&#39;</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>

<span class="nd">@root</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;root&#39;</span>

<span class="nd">@foo</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;foo&#39;</span>

<span class="nd">@bar</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/b&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;bar&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>default</strong> – Fallback application.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Rewrite.ready">
<span class="sig-name descname"><span class="pre">ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Rewrite.ready" title="Link to this definition">¶</a></dt>
<dd><p>Call the <code class="docutils literal notranslate"><span class="pre">ready</span></code> <code class="xref py py-meth docutils literal notranslate"><span class="pre">hook()</span></code>.</p>
<p>You need to call this method before using the instance as the WSGI
application.</p>
<p>Typical usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">Application</span><span class="p">,</span> <span class="n">text</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@text</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Hello World!&#39;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">!=</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Rewrite.route">
<span class="sig-name descname"><span class="pre">route</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Rewrite.route" title="Link to this definition">¶</a></dt>
<dd><p>Register an application for specific url.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yhttp.core</span> <span class="k">as</span> <span class="nn">y</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Application</span><span class="p">()</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Application</span><span class="p">()</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Application</span><span class="p">()</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">Rewrite</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/foo/([a-z]+)/(\d+)&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;/books/\2/\1&#39;</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="c1"># Add other applications</span>
<span class="n">app</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://docs.python.org/3.6/library/re.html#re.sub" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.sub()</span></code></a> for more info about <code class="docutils literal notranslate"><span class="pre">pattern</span></code> and <code class="docutils literal notranslate"><span class="pre">repl</span></code>
arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – A regex pattern to match the <code class="docutils literal notranslate"><span class="pre">environ['PATH_INFO']</span></code>.</p></li>
<li><p><strong>repl</strong> – URL Rewrite rule, See <a class="reference external" href="https://docs.python.org/3.6/library/re.html#re.sub" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.sub()</span></code></a></p></li>
<li><p><strong>handler</strong> – An instance of <a class="reference internal" href="#yhttp.core.BaseApplication" title="yhttp.core.BaseApplication"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseApplication</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Rewrite.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Rewrite.shutdown" title="Link to this definition">¶</a></dt>
<dd><p>Call the <code class="docutils literal notranslate"><span class="pre">shutdown</span></code> <code class="xref py py-meth docutils literal notranslate"><span class="pre">hook()</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="request-class">
<h2>Request Class<a class="headerlink" href="#request-class" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.Request">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request" title="Link to this definition">¶</a></dt>
<dd><p>Represent an HTTP request.</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.__call__()</span></code> instantiates this class on each call.</p>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.body">
<span class="sig-name descname"><span class="pre">body</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.body" title="Link to this definition">¶</a></dt>
<dd><p>Reads the request body.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.contentlength">
<span class="sig-name descname"><span class="pre">contentlength</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.contentlength" title="Link to this definition">¶</a></dt>
<dd><p>HTTP Request <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.contenttype">
<span class="sig-name descname"><span class="pre">contenttype</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.contenttype" title="Link to this definition">¶</a></dt>
<dd><p>HTTP Request <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header value without encoding.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.cookies">
<span class="sig-name descname"><span class="pre">cookies</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.cookies" title="Link to this definition">¶</a></dt>
<dd><p>Return a dictionary representing the HTTP cookie data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Request.environ">
<span class="sig-name descname"><span class="pre">environ</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Request.environ" title="Link to this definition">¶</a></dt>
<dd><p>WSIG environ dictionary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.files">
<span class="sig-name descname"><span class="pre">files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.files" title="Link to this definition">¶</a></dt>
<dd><p>Return a dictionary representing the submitted files.</p>
<p>Parse multipart form data from the environ dict and return a
dictionary with the form-field name as a key(unicode) and
<code class="xref py py-class docutils literal notranslate"><span class="pre">multipart.MultipartPart</span></code> instances as value, because the
form-field was a file-upload or the value is too big to fit
into memory limits.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the first access to this attribute, the <a class="reference internal" href="#yhttp.core.Request.form" title="yhttp.core.Request.form"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Request.form()</span></code></a>
attribute will be initialized if any not-file fields are submitted.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.form">
<span class="sig-name descname"><span class="pre">form</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.form" title="Link to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#yhttp.core.MultiDict" title="yhttp.core.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> representing the submitted HTTP from.</p>
<p>Parse form data from the environ dict and return a dictionary with the
form-field name as a key(unicode) and lists as values (multiple values
per key are possible).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Both urlencoded and multipart are supported.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the first access to this attribute, the <a class="reference internal" href="#yhttp.core.Request.files" title="yhttp.core.Request.files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Request.files()</span></code></a>
attribute will be initialized. if any file fields are submitted
using the <code class="docutils literal notranslate"><span class="pre">multipart/form</span></code> content header.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.6: </span>An easy way to get form values is:
.. code-block::</p>
<blockquote>
<div><p>req[‘field-name’]</p>
</div></blockquote>
<p>The above expression is the same as:
.. code-block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">req</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;field-name&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.0: </span>The multipart files are not represented by this attribute and will
be accessible by <a class="reference internal" href="#yhttp.core.Request.files" title="yhttp.core.Request.files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Request.files()</span></code></a> instead.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.0: </span>You may get all values for an identical field using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">req</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">getall</span><span class="p">(</span><span class="s1">&#39;field-name&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.fullpath">
<span class="sig-name descname"><span class="pre">fullpath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.fullpath" title="Link to this definition">¶</a></dt>
<dd><p>Request full URI including query string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.getfiles">
<span class="sig-name descname"><span class="pre">getfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.getfiles" title="Link to this definition">¶</a></dt>
<dd><p>Return the request body as a <a class="reference internal" href="#yhttp.core.MultiDict" title="yhttp.core.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> object.</p>
<p>This is actualy a wrapper around the <a class="reference internal" href="#yhttp.core.Request.files" title="yhttp.core.Request.files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.files</span></code></a>. but raises
<code class="xref py py-exc docutils literal notranslate"><span class="pre">statuses.lengthrequired</span></code> and
<code class="xref py py-exc docutils literal notranslate"><span class="pre">statuses.unprocessablecontent</span></code> instead of programmatic
exceptions if <code class="docutils literal notranslate"><span class="pre">relax=False</span></code> (the default behaviour).</p>
<p>if <code class="docutils literal notranslate"><span class="pre">relax=True</span></code>, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code> on any failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.getform">
<span class="sig-name descname"><span class="pre">getform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.getform" title="Link to this definition">¶</a></dt>
<dd><p>Return the request body as a <a class="reference internal" href="#yhttp.core.MultiDict" title="yhttp.core.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> object.</p>
<p>This is actualy a wrapper around the <a class="reference internal" href="#yhttp.core.Request.form" title="yhttp.core.Request.form"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.form</span></code></a>. but raises
<code class="xref py py-exc docutils literal notranslate"><span class="pre">statuses.lengthrequired</span></code> and
<code class="xref py py-exc docutils literal notranslate"><span class="pre">statuses.unprocessablecontent</span></code> instead of programmatic
exceptions if <code class="docutils literal notranslate"><span class="pre">relax=False</span></code> (the default behaviour).</p>
<p>if <code class="docutils literal notranslate"><span class="pre">relax=True</span></code>, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code> on any failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.getjson">
<span class="sig-name descname"><span class="pre">getjson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.getjson" title="Link to this definition">¶</a></dt>
<dd><p>Return the request body as a decoded JSON object.</p>
<p>This is actualy a wrapper around the <a class="reference internal" href="#yhttp.core.Request.json" title="yhttp.core.Request.json"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.json</span></code></a>. but raises
<code class="xref py py-exc docutils literal notranslate"><span class="pre">statuses.lengthrequired</span></code> and
<code class="xref py py-exc docutils literal notranslate"><span class="pre">statuses.unprocessablecontent</span></code> instead of programmatic
<code class="xref py py-mod docutils literal notranslate"><span class="pre">ujson</span></code> exceptions if <code class="docutils literal notranslate"><span class="pre">relax=False</span></code> (the default behaviour).</p>
<p>if <code class="docutils literal notranslate"><span class="pre">relax=True</span></code>, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code> on any failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.headers">
<span class="sig-name descname"><span class="pre">headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.headers" title="Link to this definition">¶</a></dt>
<dd><p>HTTP Request headers set.</p>
<p>see <a class="reference internal" href="#yhttp.core.HeadersMask" title="yhttp.core.HeadersMask"><code class="xref py py-class docutils literal notranslate"><span class="pre">HeadersMask</span></code></a> class to figure out how it works.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.json">
<span class="sig-name descname"><span class="pre">json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.json" title="Link to this definition">¶</a></dt>
<dd><p>Return a dictionary representing the submitted JSON document.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header must be <code class="docutils literal notranslate"><span class="pre">aplication/json</span></code>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.path">
<span class="sig-name descname"><span class="pre">path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.path" title="Link to this definition">¶</a></dt>
<dd><p>Request URL without query string and <code class="docutils literal notranslate"><span class="pre">scheme://domain.ext</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.query" title="Link to this definition">¶</a></dt>
<dd><p>Return A dictionary representing the submitted query string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Request.response">
<span class="sig-name descname"><span class="pre">response</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Request.response" title="Link to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#yhttp.core.Response" title="yhttp.core.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> instance associated to this request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.scheme">
<span class="sig-name descname"><span class="pre">scheme</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.scheme" title="Link to this definition">¶</a></dt>
<dd><p>Return HTTP Request Scheme (http|https).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Request.verb">
<span class="sig-name descname"><span class="pre">verb</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Request.verb" title="Link to this definition">¶</a></dt>
<dd><p>HTTP method.</p>
</dd></dl>

</dd></dl>

</section>
<section id="headersmask-class">
<h2>HeadersMask Class<a class="headerlink" href="#headersmask-class" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.HeadersMask">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HeadersMask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">environ</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.HeadersMask" title="Link to this definition">¶</a></dt>
<dd><p>A simple proxy over <a class="reference internal" href="#yhttp.core.Request.environ" title="yhttp.core.Request.environ"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.environ</span></code></a>.</p>
<p>Useful to get headers by their original name without the <code class="docutils literal notranslate"><span class="pre">HTTP_</span></code> prefix,
which is the python’s WSGI servers default behavior.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="n">foo</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span>
    <span class="n">bar</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;baz&#39;</span> <span class="ow">in</span> <span class="n">req</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
        <span class="n">baz</span> <span class="o">=</span> <span class="kc">True</span>

     <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="response-class">
<h2>Response Class<a class="headerlink" href="#response-class" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.Response">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startresponse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Response" title="Link to this definition">¶</a></dt>
<dd><p>Represent the HTTP response.</p>
<p>Which accessible by <a class="reference internal" href="#yhttp.core.Request.response" title="yhttp.core.Request.response"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.response</span></code></a> inside handlers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Response.body">
<span class="sig-name descname"><span class="pre">body</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Response.body" title="Link to this definition">¶</a></dt>
<dd><p>Response body</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Response.charset">
<span class="sig-name descname"><span class="pre">charset</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Response.charset" title="Link to this definition">¶</a></dt>
<dd><p>Response encoding, <code class="docutils literal notranslate"><span class="pre">None</span></code> for binary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Response.conclude">
<span class="sig-name descname"><span class="pre">conclude</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Response.conclude" title="Link to this definition">¶</a></dt>
<dd><p>Conclude the response.</p>
<p>Calls WSGI start_response callback and encode response body to
transfer to the client.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>response body</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="yhttp.core.Response.contenttype">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">contenttype</span></span><a class="headerlink" href="#yhttp.core.Response.contenttype" title="Link to this definition">¶</a></dt>
<dd><p>Response content type incuding charset.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Response.headers">
<span class="sig-name descname"><span class="pre">headers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Response.headers" title="Link to this definition">¶</a></dt>
<dd><p>An instance of <a class="reference internal" href="#yhttp.core.HeaderSet" title="yhttp.core.HeaderSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">HeaderSet</span></code></a> class.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Response.length">
<span class="sig-name descname"><span class="pre">length</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Response.length" title="Link to this definition">¶</a></dt>
<dd><p>Response content length</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Response.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Response.start" title="Link to this definition">¶</a></dt>
<dd><p>Start the response.</p>
<p>Usualy <a class="reference internal" href="#yhttp.core.Application" title="yhttp.core.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a> calls this method when response is ready
to transfered to user.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.Response.startstream">
<span class="sig-name descname"><span class="pre">startstream</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.Response.startstream" title="Link to this definition">¶</a></dt>
<dd><p>Start streaming the response.</p>
<p>Transfer data chunk by chunk instead of what <a class="reference internal" href="#yhttp.core.Response.conclude" title="yhttp.core.Response.conclude"><code class="xref py py-meth docutils literal notranslate"><span class="pre">conclude()</span></code></a> does.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Response.status">
<span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'200</span> <span class="pre">OK'</span></em><a class="headerlink" href="#yhttp.core.Response.status" title="Link to this definition">¶</a></dt>
<dd><p>HTTP Status code</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.Response.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#yhttp.core.Response.type" title="Link to this definition">¶</a></dt>
<dd><p>Response content type without charset.</p>
</dd></dl>

</dd></dl>

</section>
<section id="headerset-class">
<h2>HeaderSet Class<a class="headerlink" href="#headerset-class" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.HeaderSet">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HeaderSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.HeaderSet" title="Link to this definition">¶</a></dt>
<dd><p>A mutable case-insensitive ordered dictionary to keep HTTP headers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="n">req</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;x-foo&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;x-bar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
    <span class="n">req</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;x-baz: qux&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="multidict">
<h2>MultiDict<a class="headerlink" href="#multidict" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.MultiDict">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultiDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.MultiDict" title="Link to this definition">¶</a></dt>
<dd><p>A dict that remembers old values for each key.</p>
<p>HTTP headers and query strings may repeat with differing values, such as
Set-Cookie. We need to remember all values.</p>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.MultiDict.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">D[k]</span> <span class="pre">if</span> <span class="pre">k</span> <span class="pre">in</span> <span class="pre">D,</span> <span class="pre">else</span> <span class="pre">d.</span>&#160; <span class="pre">d</span> <span class="pre">defaults</span> <span class="pre">to</span> <span class="pre">None.</span></span></span><a class="headerlink" href="#yhttp.core.MultiDict.get" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.MultiDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">a</span> <span class="pre">set-like</span> <span class="pre">object</span> <span class="pre">providing</span> <span class="pre">a</span> <span class="pre">view</span> <span class="pre">on</span> <span class="pre">D's</span> <span class="pre">keys</span></span></span><a class="headerlink" href="#yhttp.core.MultiDict.keys" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="httpstatus-class">
<h2>HTTPStatus Class<a class="headerlink" href="#httpstatus-class" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.HTTPStatus">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HTTPStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepheaders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nobody</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.HTTPStatus" title="Link to this definition">¶</a></dt>
<dd><p>Base class for all HTTP Exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> – HTTP status code.</p></li>
<li><p><strong>text</strong> – HTTP status text.</p></li>
<li><p><strong>keepheaders</strong> – If set, appliation keeps the <a class="reference internal" href="#yhttp.core.Response.headers" title="yhttp.core.Response.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.headers</span></code></a>
when exception is occured.</p></li>
<li><p><strong>headers</strong> – Some extra HTTP headers to be added to the
<a class="reference internal" href="#yhttp.core.Response.headers" title="yhttp.core.Response.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.headers</span></code></a> when exception is raised.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="contenttype-decorators">
<h2>contenttype decorators<a class="headerlink" href="#contenttype-decorators" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.contenttype">
<span class="sig-name descname"><span class="pre">contenttype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contenttype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.contenttype" title="Link to this definition">¶</a></dt>
<dd><p>Yield a decorator to set response content type and encoding.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">contenttype</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@contenttype</span><span class="p">(</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>There are ready to use contenttype decorators which can importes from
<code class="docutils literal notranslate"><span class="pre">yhttp.core</span></code> package, like: <a class="reference internal" href="#yhttp.core.json" title="yhttp.core.json"><code class="xref py py-func docutils literal notranslate"><span class="pre">json()</span></code></a>.</p>
<p>You may create your very own content type decorator by calling this
function with desired arguments, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">invoice</span> <span class="o">=</span> <span class="n">contenttype</span><span class="p">(</span><span class="s1">&#39;application/pdf&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dump</span><span class="o">=</span><span class="n">makeinvoicepdf</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/invoices/(\d+)&#39;</span><span class="p">)</span>
<span class="nd">@invoice</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#yhttp.core.json" title="yhttp.core.json"><code class="xref py py-func docutils literal notranslate"><span class="pre">json()</span></code></a> decorator is created with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">json</span> <span class="o">=</span> <span class="n">contenttype</span><span class="p">(</span><span class="s1">&#39;application/json&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="n">dump</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#yhttp.core.binary" title="yhttp.core.binary"><code class="xref py py-func docutils literal notranslate"><span class="pre">binary()</span></code></a>
<a class="reference internal" href="#yhttp.core.json" title="yhttp.core.json"><code class="xref py py-func docutils literal notranslate"><span class="pre">json()</span></code></a>
<a class="reference internal" href="#yhttp.core.text" title="yhttp.core.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contenttype</strong> – HTTP Content-Type, example: application/json</p></li>
<li><p><strong>charset</strong> – Character set, example: utf8</p></li>
<li><p><strong>dump</strong> – A <code class="docutils literal notranslate"><span class="pre">callable(body)</span> <span class="pre">-&gt;</span> <span class="pre">body</span></code> to transform the body to
appropriate content type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>decorator for HTTP handlers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.binary">
<span class="sig-name descname"><span class="pre">binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.binary" title="Link to this definition">¶</a></dt>
<dd><p>Sets the <a class="reference internal" href="#yhttp.core.Response.contenttype" title="yhttp.core.Response.contenttype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.contenttype</span></code></a> to <code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code>.</p>
<p>Handlers must return <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#bytes" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> when this decorator is used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">binary</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@binary</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">b</span><span class="s1">&#39;binarydata&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.json">
<span class="sig-name descname"><span class="pre">json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.json" title="Link to this definition">¶</a></dt>
<dd><p>Sets the <a class="reference internal" href="#yhttp.core.Response.contenttype" title="yhttp.core.Response.contenttype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.contenttype</span></code></a> to <code class="docutils literal notranslate"><span class="pre">application/json;charset=utf-8</span></code>
and encode the returned value by handler to json byte-string format.</p>
<p>Handlers must return <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> when this decorator is used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">json</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@json</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.text">
<span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.text" title="Link to this definition">¶</a></dt>
<dd><p>Sets the <a class="reference internal" href="#yhttp.core.Response.contenttype" title="yhttp.core.Response.contenttype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.contenttype</span></code></a> to <code class="docutils literal notranslate"><span class="pre">text/text;</span> <span class="pre">charset=utf-8</span></code>.</p>
<p>Handlers must return <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> when this decorator is used.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">text</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@text</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Unicode String&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.html">
<span class="sig-name descname"><span class="pre">html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.html" title="Link to this definition">¶</a></dt>
<dd><p>Sets the <a class="reference internal" href="#yhttp.core.Response.contenttype" title="yhttp.core.Response.contenttype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.contenttype</span></code></a> to <code class="docutils literal notranslate"><span class="pre">text/html;</span> <span class="pre">charset=utf-8</span></code>.</p>
<p>Handlers must return <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> when this decorator is used.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yhttp.core</span> <span class="kn">import</span> <span class="n">html</span>


<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@html</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Unicode String&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-yhttp.core.guard">
<span id="gurad-module"></span><h2>gurad Module<a class="headerlink" href="#module-yhttp.core.guard" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.guard.Field">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.Field" title="Link to this definition">¶</a></dt>
<dd><p>Base class for all fields such as <a class="reference internal" href="#yhttp.core.guard.String" title="yhttp.core.guard.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>optional</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.statuscode_missing</span></code> is not
raised when the field is not submitted by the client.
default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>default</strong> – A scalar or <code class="docutils literal notranslate"><span class="pre">callable(req,</span> <span class="pre">field,</span> <span class="pre">valuesdict)</span></code> as the
default value for field if not submitted. this argument
cannot passed with <code class="docutils literal notranslate"><span class="pre">optional</span></code>. default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>statuscode_missing</strong> – int, the status code to raise when the field is
not submitted by the user when <code class="docutils literal notranslate"><span class="pre">strict=True</span></code>.
default: <code class="docutils literal notranslate"><span class="pre">400</span></code>.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.2: </span><code class="docutils literal notranslate"><span class="pre">default</span></code> argument.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.guard.Field.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">optional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.Field.__call__" title="Link to this definition">¶</a></dt>
<dd><p>Copy and override the field.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bar</span> <span class="o">=</span> <span class="n">guard</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">queryguard</span><span class="p">((</span>
    <span class="n">bar</span><span class="p">,</span>
    <span class="n">bar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">))</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.guard.Guard">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Guard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.Guard" title="Link to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#yhttp.core.guard.Guard" title="yhttp.core.guard.Guard"><code class="xref py py-class docutils literal notranslate"><span class="pre">guard.Guard</span></code></a> class is used to validate the HTTP requests.</p>
<p>see: <a class="reference internal" href="#yhttp.core.Application.bodyguard" title="yhttp.core.Application.bodyguard"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.bodyguard()</span></code></a> for more info.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>strict</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it raises
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Guard.statuscode_unknownfields</span></code> when one or more
fields are not in the given <code class="docutils literal notranslate"><span class="pre">fields</span></code> argument.</p></li>
<li><p><strong>fields</strong> – A tuple of <code class="xref py py-class docutils literal notranslate"><span class="pre">Gurad.Field</span></code> subclass instances to
define the allowed fields and field attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>statuscode_unknownfields</strong> – int, the status code to raise when an
unknown field(s) is/are found.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.guard.Guard.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.Guard.validate" title="Link to this definition">¶</a></dt>
<dd><p>Validates the submitted data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>req</strong> – Current yhttp <a class="reference internal" href="#yhttp.core.Request" title="yhttp.core.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a> object.</p></li>
<li><p><strong>values</strong> – A <a class="reference internal" href="#yhttp.core.MultiDict" title="yhttp.core.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> representing the submitted data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.guard.Integer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Integer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.Integer" title="Link to this definition">¶</a></dt>
<dd><p>Represent the guard for integer field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – str, the field name.</p></li>
<li><p><strong>range</strong> – <code class="docutils literal notranslate"><span class="pre">(int,</span> <span class="pre">int)</span></code>, a tuple of <code class="docutils literal notranslate"><span class="pre">(min,</span> <span class="pre">max)</span></code> to specify the
minimum and maximum allowed value.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>statuscode_badtype</strong> – int, the status code to raise when the type cast
to integer <code class="docutils literal notranslate"><span class="pre">int(value)</span></code> is raises
<a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>. default: <code class="docutils literal notranslate"><span class="pre">400</span></code>.</p></li>
<li><p><strong>statuscode_outofrange</strong> – int, the status code to raise when value
is not in specified range.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.guard.Integer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.Integer.__call__" title="Link to this definition">¶</a></dt>
<dd><p>Copy and override the field.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bar</span> <span class="o">=</span> <span class="n">guard</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">queryguard</span><span class="p">((</span>
    <span class="n">bar</span><span class="p">,</span>
    <span class="n">bar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">))</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="yhttp.core.guard.String">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">String</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.String" title="Link to this definition">¶</a></dt>
<dd><p>Represent the guard for string field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – str, the field name.</p></li>
<li><p><strong>length</strong> – <code class="docutils literal notranslate"><span class="pre">(int,</span> <span class="pre">int)</span></code>, a tuple of <code class="docutils literal notranslate"><span class="pre">(min,</span> <span class="pre">max)</span></code> to specify the
minimum and maximum allowed length for the value.</p></li>
<li><p><strong>pattern</strong> – A regex pattern to specify the data format for the field.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>statuscode_badlength</strong> – int, the status code to raise when value length
is not permitted. default: <code class="docutils literal notranslate"><span class="pre">400</span></code>.</p></li>
<li><p><strong>statuscode_badformat</strong> – int, the status code to raise when value format
is not match with given pattern.
default: <code class="docutils literal notranslate"><span class="pre">400</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="yhttp.core.guard.String.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.guard.String.__call__" title="Link to this definition">¶</a></dt>
<dd><p>Copy and override the field.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bar</span> <span class="o">=</span> <span class="n">guard</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">queryguard</span><span class="p">((</span>
    <span class="n">bar</span><span class="p">,</span>
    <span class="n">bar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="n">optional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">))</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-yhttp.core.statuses">
<span id="statuses-module"></span><h2>statuses Module<a class="headerlink" href="#module-yhttp.core.statuses" title="Link to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="yhttp.core.statuses.HTTPStatus">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HTTPStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepheaders</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nobody</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.statuses.HTTPStatus" title="Link to this definition">¶</a></dt>
<dd><p>Base class for all HTTP Exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> – HTTP status code.</p></li>
<li><p><strong>text</strong> – HTTP status text.</p></li>
<li><p><strong>keepheaders</strong> – If set, appliation keeps the <a class="reference internal" href="#yhttp.core.Response.headers" title="yhttp.core.Response.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.headers</span></code></a>
when exception is occured.</p></li>
<li><p><strong>headers</strong> – Some extra HTTP headers to be added to the
<a class="reference internal" href="#yhttp.core.Response.headers" title="yhttp.core.Response.headers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.headers</span></code></a> when exception is raised.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.badgateway">
<span class="sig-name descname"><span class="pre">badgateway</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">502,</span> <span class="pre">'Bad</span> <span class="pre">Gateway')</span></em><a class="headerlink" href="#yhttp.core.statuses.badgateway" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 502 Bad Gateway exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.badrequest">
<span class="sig-name descname"><span class="pre">badrequest</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">400,</span> <span class="pre">'Bad</span> <span class="pre">Request')</span></em><a class="headerlink" href="#yhttp.core.statuses.badrequest" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 400 Bad Request exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.conflict">
<span class="sig-name descname"><span class="pre">conflict</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">409,</span> <span class="pre">'Conflict')</span></em><a class="headerlink" href="#yhttp.core.statuses.conflict" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 409 Conflict exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.created">
<span class="sig-name descname"><span class="pre">created</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">201,</span> <span class="pre">'Created',</span> <span class="pre">keepheaders=True)</span></em><a class="headerlink" href="#yhttp.core.statuses.created" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 201 Created exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.forbidden">
<span class="sig-name descname"><span class="pre">forbidden</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">403,</span> <span class="pre">'Forbidden')</span></em><a class="headerlink" href="#yhttp.core.statuses.forbidden" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 403 Forbidden exception factory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.statuses.found">
<span class="sig-name descname"><span class="pre">found</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.statuses.found" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 302 Found exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.gatewaytimeout">
<span class="sig-name descname"><span class="pre">gatewaytimeout</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">504,</span> <span class="pre">'Gateway</span> <span class="pre">Timeout')</span></em><a class="headerlink" href="#yhttp.core.statuses.gatewaytimeout" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 504 Gateway Timeout exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.gone">
<span class="sig-name descname"><span class="pre">gone</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">410,</span> <span class="pre">'Gone')</span></em><a class="headerlink" href="#yhttp.core.statuses.gone" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 410 Gone exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.internalservererror">
<span class="sig-name descname"><span class="pre">internalservererror</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">500,</span> <span class="pre">'Internal</span> <span class="pre">Server</span> <span class="pre">Error')</span></em><a class="headerlink" href="#yhttp.core.statuses.internalservererror" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 500 Internal Server Error exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.lengthrequired">
<span class="sig-name descname"><span class="pre">lengthrequired</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">411,</span> <span class="pre">'Length</span> <span class="pre">Required')</span></em><a class="headerlink" href="#yhttp.core.statuses.lengthrequired" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 411 Length Required</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.methodnotallowed">
<span class="sig-name descname"><span class="pre">methodnotallowed</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">405,</span> <span class="pre">'Method</span> <span class="pre">Not</span> <span class="pre">Allowed')</span></em><a class="headerlink" href="#yhttp.core.statuses.methodnotallowed" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 405 Method Not Allowed exception factory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.statuses.movedpermanently">
<span class="sig-name descname"><span class="pre">movedpermanently</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.statuses.movedpermanently" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 301 Moved Permanently exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.nocontent">
<span class="sig-name descname"><span class="pre">nocontent</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">204,</span> <span class="pre">'No</span> <span class="pre">Content',</span> <span class="pre">keepheaders=True,</span> <span class="pre">nobody=True)</span></em><a class="headerlink" href="#yhttp.core.statuses.nocontent" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 204 No Content exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.notfound">
<span class="sig-name descname"><span class="pre">notfound</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">404,</span> <span class="pre">'Not</span> <span class="pre">Found')</span></em><a class="headerlink" href="#yhttp.core.statuses.notfound" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 404 Not Found exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.notmodified">
<span class="sig-name descname"><span class="pre">notmodified</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">304,</span> <span class="pre">'Not</span> <span class="pre">Modified',</span> <span class="pre">nobody=True)</span></em><a class="headerlink" href="#yhttp.core.statuses.notmodified" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 304 Not Modified exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.ok">
<span class="sig-name descname"><span class="pre">ok</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">200,</span> <span class="pre">'OK',</span> <span class="pre">keepheaders=True)</span></em><a class="headerlink" href="#yhttp.core.statuses.ok" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 200 OK</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.preconditionfailed">
<span class="sig-name descname"><span class="pre">preconditionfailed</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">412,</span> <span class="pre">'Precondition</span> <span class="pre">Failed')</span></em><a class="headerlink" href="#yhttp.core.statuses.preconditionfailed" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 412 Precondition Failed exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.serviceunavailable">
<span class="sig-name descname"><span class="pre">serviceunavailable</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">503,</span> <span class="pre">'Service</span> <span class="pre">Unavailable')</span></em><a class="headerlink" href="#yhttp.core.statuses.serviceunavailable" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 503 Service Unavailable exception factory</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="yhttp.core.statuses.status">
<span class="sig-name descname"><span class="pre">status</span></span><a class="headerlink" href="#yhttp.core.statuses.status" title="Link to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#yhttp.core.statuses.HTTPStatus" title="yhttp.core.statuses.HTTPStatus"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPStatus</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="yhttp.core.statuses.statuscode">
<span class="sig-name descname"><span class="pre">statuscode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#yhttp.core.statuses.statuscode" title="Link to this definition">¶</a></dt>
<dd><p>Set the <a class="reference internal" href="#yhttp.core.Response.status" title="yhttp.core.Response.status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.status</span></code></a> to <code class="docutils literal notranslate"><span class="pre">code</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">()</span>
<span class="nd">@statuscode</span><span class="p">(</span><span class="s1">&#39;201 Created&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">with</span> <span class="n">Given</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;201 Created&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.5.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.unauthorized">
<span class="sig-name descname"><span class="pre">unauthorized</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">401,</span> <span class="pre">'Unauthorized')</span></em><a class="headerlink" href="#yhttp.core.statuses.unauthorized" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 401 Unauthorized exception factory</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="yhttp.core.statuses.unprocessablecontent">
<span class="sig-name descname"><span class="pre">unprocessablecontent</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">functools.partial(&lt;class</span> <span class="pre">'yhttp.core.statuses.HTTPStatus'&gt;,</span> <span class="pre">422,</span> <span class="pre">'Unprocessable</span> <span class="pre">Content')</span></em><a class="headerlink" href="#yhttp.core.statuses.unprocessablecontent" title="Link to this definition">¶</a></dt>
<dd><p>HTTP 422 Unprocessable Content</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">yhttp</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#application-classes">Application Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rewrite-class">Rewrite Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#request-class">Request Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#headersmask-class">HeadersMask Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#response-class">Response Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#headerset-class">HeaderSet Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multidict">MultiDict</a></li>
<li class="toctree-l2"><a class="reference internal" href="#httpstatus-class">HTTPStatus Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contenttype-decorators">contenttype decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-yhttp.core.guard">gurad Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-yhttp.core.statuses">statuses Module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="cookbook.html" title="previous chapter">Cookbook</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <span id="forkongithub">
      <a class="desktop" href="https://github.com/yhttp/yhttp">Fork me on GitHub</a>
      <a class="mobile" href="https://github.com/yhttp/yhttp">Source</a>
    </span>

  </body>
</html>